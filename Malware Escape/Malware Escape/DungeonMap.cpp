#include "DungeonMap.h"



DungeonMap::DungeonMap(const wxString & mapfilename)
{
	this->mapfilename = mapfilename;
}


DungeonMap::~DungeonMap()
{
	for (int i = 1; i <= this->height; i++)
	{
		for (int j = 1; j <= this->width; j++)
		{
			delete physicalMap[i][j];
		}
	}
}

void DungeonMap::GenerateLogicalMap()
{
	//std::ifstream mapfile(wxT("_mapdata" + mapfilename).ToStdString, std::ifstream::in);

	//char c ;
	//mapfile >> this->height >> this->width;
	//for (int i=1; i<=this->height; i++)
	//{
	//	for (int j = 1; j <= this->width; j++)
	//	{
	//		mapfile >> c;	
	//		if (c == '0' || c == '1' || c == '2')
	//			this->logicalMap[i][j] = (int)c - 48;
	//		else if (c == '\n')
	//			j--;
	//	}
	//}
	//mapfile.close();
}

void DungeonMap::GeneratePhysicalMap()
{
	for (int i = 1; i <= this->height; i++)
	{
		for (int j = 1; j <= this->width; j++)
		{
			physicalMap[i][j] = new Tile(logicalMap[i][j], 48 * (j - 1), 48 * (i - 1));
		}
	}
}
